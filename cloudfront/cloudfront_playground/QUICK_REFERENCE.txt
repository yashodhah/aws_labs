â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚          ğŸ‰ CloudFront Playground - Complete Setup Summary ğŸ‰          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ PROJECT STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

cloudfront_playground/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                     â† Start here for overview
â”œâ”€â”€ ğŸ“„ DEPLOYMENT_CHECKLIST.md       â† Complete deployment guide
â”œâ”€â”€ ğŸ“„ TERRAFORM_SETUP.md            â† Technical details
â”‚
â”œâ”€â”€ ğŸš€ setup.sh                      â† Run this first (chmod +x setup.sh)
â”œâ”€â”€ ğŸš€ quick-deploy.sh               â† Quick deployment reference
â”‚
â””â”€â”€ terraform/
    â”œâ”€â”€ ğŸ—ï¸  INFRASTRUCTURE FILES
    â”œâ”€ versions.tf                   (Terraform & provider versions)
    â”œâ”€ providers.tf                  (AWS provider, region: us-east-1)
    â”œâ”€ variables.tf                  (Input variables)
    â”œâ”€ terraform.tfvars              (Variable values)
    â”‚
    â”œâ”€â”€ ğŸ”§ RESOURCE FILES
    â”œâ”€ lambda.tf                     (Lambda function + IAM role)
    â”œâ”€ api_gateway.tf                (HTTP API Gateway + integration)
    â”œâ”€ s3.tf                         (S3 bucket + OAC policy)
    â”œâ”€ cloudfront.tf                 (CloudFront + OAC setup)
    â”‚
    â”œâ”€â”€ ğŸ“¤ OUTPUTS
    â”œâ”€ outputs.tf                    (7 important outputs)
    â”‚
    â””â”€â”€ ğŸ’¾ APPLICATION
       â””â”€ index.py                   (Python Lambda handler code)


ğŸ¯ QUICK START GUIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  Make setup script executable:
    chmod +x setup.sh

2ï¸âƒ£  Run setup:
    ./setup.sh

3ï¸âƒ£  Deploy infrastructure:
    cd terraform && terraform apply tfplan

4ï¸âƒ£  View outputs:
    terraform output


ğŸ—ï¸  ARCHITECTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        Internet Traffic
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   CloudFront CDN    â”‚
                    â”‚  (with OAC enabled) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                             â”‚        â”‚
                      /api/*  â”‚        â”‚  /index.html
                             â†“        â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API Gtwy   â”‚  â”‚  S3 Bucket   â”‚
                    â”‚   + Lambda   â”‚  â”‚  (Private)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         âœ“                  âœ“
                      Dynamic API      Static Content


âš™ï¸  INFRASTRUCTURE COMPONENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… API Gateway (HTTP v2)
   â”œâ”€ Protocol: HTTP (RESTful)
   â”œâ”€ Integration: AWS Lambda Proxy
   â”œâ”€ Methods: GET, HEAD, OPTIONS, POST, PATCH, DELETE
   â”œâ”€ CORS: Enabled for all origins
   â””â”€ Region: us-east-1

âœ… Lambda Function
   â”œâ”€ Runtime: Python 3.11
   â”œâ”€ Memory: 128 MB (default)
   â”œâ”€ Timeout: 3 seconds (default)
   â”œâ”€ Handler: index.handler
   â””â”€ Returns: JSON response with request path

âœ… S3 Bucket
   â”œâ”€ Versioning: Enabled
   â”œâ”€ Encryption: AES-256 (at rest)
   â”œâ”€ Public Access: Blocked
   â”œâ”€ Content: index.html sample file
   â””â”€ Access: CloudFront OAC only

âœ… CloudFront Distribution
   â”œâ”€ Protocol: HTTPS (enforced)
   â”œâ”€ IPv6: Enabled
   â”œâ”€ Origins: 2 (API Gateway + S3)
   â”œâ”€ Cache Behaviors:
   â”‚  â”œâ”€ /api/*: No caching (TTL=0)
   â”‚  â””â”€ /: 1 hour caching (TTL=3600)
   â”œâ”€ OAC: Enabled for S3
   â””â”€ Certificate: CloudFront default


ğŸ“Š WHAT GETS DEPLOYED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

AWS Resources Created:
  âœ“ 1 CloudFront Distribution (with OAC)
  âœ“ 1 CloudFront Origin Access Control
  âœ“ 1 HTTP API Gateway
  âœ“ 1 API Gateway Integration
  âœ“ 1 API Gateway Stage
  âœ“ 2 API Gateway Routes
  âœ“ 1 Lambda Function
  âœ“ 1 Lambda IAM Role
  âœ“ 2 IAM Policies (Lambda + API Gateway)
  âœ“ 1 Lambda Permission
  âœ“ 1 S3 Bucket
  âœ“ 1 S3 Bucket Policy
  âœ“ 1 S3 Versioning Configuration
  âœ“ 1 S3 Encryption Configuration
  âœ“ 1 S3 Public Access Block
  âœ“ 1 S3 Object (index.html)

Total: ~20 AWS resources


ğŸ” SECURITY FEATURES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Origin Access Control (OAC)
  â””â”€ Only CloudFront can access S3
  â””â”€ Uses SigV4 signing
  â””â”€ Direct S3 access blocked

âœ“ S3 Security
  â””â”€ All public access blocked
  â””â”€ Server-side encryption enabled
  â””â”€ Versioning enabled (recovery)

âœ“ Transport Security
  â””â”€ HTTPS enforced
  â””â”€ HTTP redirects to HTTPS

âœ“ IAM Security
  â””â”€ Minimal permissions
  â””â”€ Role-based access control
  â””â”€ Service-specific policies


ğŸ“ˆ OUTPUTS (After terraform apply)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

cloudfront_distribution_id
  â””â”€ CloudFront distribution ID (for API/console access)

cloudfront_domain_name
  â””â”€ CloudFront domain (e.g., dxxx.cloudfront.net)

cloudfront_url
  â””â”€ Full HTTPS CloudFront URL
  â””â”€ Usage: https://<domain>/

api_through_cloudfront
  â””â”€ API endpoint via CloudFront
  â””â”€ Usage: https://<domain>/api/

static_content_through_cloudfront
  â””â”€ Static content URL
  â””â”€ Usage: https://<domain>/index.html

api_gateway_endpoint
  â””â”€ Direct API Gateway URL (bypass CloudFront)
  â””â”€ For testing/direct access

lambda_function_name, s3_bucket_name
  â””â”€ Resource identifiers for AWS console access


ğŸ§ª TESTING COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# After deployment, test with:

1. API via CloudFront:
   curl https://<cloudfront-domain>/api/

2. Static content via CloudFront:
   curl https://<cloudfront-domain>/index.html

3. Direct API Gateway (skip CloudFront):
   curl <api-gateway-endpoint>/

4. Verify OAC (should fail with 403):
   curl https://<s3-bucket-direct-url>/index.html


âš™ï¸  CUSTOMIZATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Edit terraform/terraform.tfvars to customize:

  aws_region = "us-east-1"              # Region deployment
  environment = "dev"                   # Environment tag
  project_name = "cloudfront-..."       # Resource naming
  bucket_name = "my-bucket-..."         # Unique bucket name
  api_name = "my-api"                   # API naming


ğŸ’° ESTIMATED COSTS (Monthly, Low Traffic)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Lambda:                ~$0.20  (free tier: 1M requests/month)
  API Gateway:           ~$0.35  ($3.50 per million requests)
  S3 Storage:            ~$0.50  (1GB, typical)
  CloudFront:            ~$0.50  (1GB data transfer, varies by region)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Total:                 ~$1-5/month


ğŸ§¹ CLEANUP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

To delete all resources:

  cd terraform
  terraform destroy

âš ï¸  This will:
  âœ“ Delete CloudFront distribution
  âœ“ Delete S3 bucket and contents
  âœ“ Delete Lambda function
  âœ“ Delete API Gateway
  âœ“ Delete all IAM roles and policies


ğŸ“š DOCUMENTATION FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

README.md
  â””â”€ Project overview, architecture, deployment steps, troubleshooting

DEPLOYMENT_CHECKLIST.md (â† YOU ARE HERE)
  â””â”€ Complete checklist with quick start guide

TERRAFORM_SETUP.md
  â””â”€ Technical details about each Terraform file


ğŸš€ NEXT STEPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Review the architecture diagram above
2. Read README.md for detailed information
3. Run: chmod +x setup.sh && ./setup.sh
4. Review the plan: terraform show tfplan
5. Deploy: terraform apply tfplan
6. Test using the commands above
7. Monitor CloudWatch logs
8. Customize for your needs


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Status: âœ… READY FOR DEPLOYMENT
Region: us-east-1
Created: 2025-11-09
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
